{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>This is an ACC specific (at least at the moment) leaderboard plugin providing simple switching between  overall/class/relative (and more) leaderboards.</p> <p>The reason for this plugin is that I found myself creating effectively the same leaderboard layout several times for  overall leaderboard and then again for class leaderboard and so on.  And then again when I decided to change something.  With this plugin you need to create only one SimHub dash and assign buttons to swap between different leaderboard types.  I provide example dash (named AccDynLeaderboard) which I created for my own use.  It's relatively simple one and designed to be used on smartphone.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>Connect directly to ACC broadcasting server to have most control and try to provide reliable results.</li> <li>Provide a way to switch between leaderboard types on a single dash screen with a single click.<ul> <li>Also provide gaps and lap deltas that change based on currently selected leaderboard.</li> </ul> </li> <li>Provide more leaderboard types (see here).</li> <li>Calculate bunch of new properties (see here or download the plugin as they are also mostly   listed under the settings tab).</li> <li>More stable calculation of gaps between the cars (no more gap changing by 1s depending if you are in the corner or straights).</li> </ul>"},{"location":"about/","title":"Links","text":"<ul> <li>GitHub - kaiusl/KLPlugins.DynLeaderboards</li> <li>OverTake - ACC Simhub Dynamic Leaderboards Plugin</li> </ul>"},{"location":"about/changelog/","title":"Changelog","text":"<p>\ufeff# Changelog</p> <p>All notable changes to this project will be documented in this file.</p> <p>The format is based on Keep a Changelog.</p>"},{"location":"about/changelog/#unreleased","title":"Unreleased","text":""},{"location":"about/changelog/#141-2024-04-02","title":"1.4.1 - 2024-04-02","text":""},{"location":"about/changelog/#fixed","title":"Fixed","text":"<ul> <li>Workaround for missing N24 track data</li> </ul>"},{"location":"about/changelog/#added","title":"Added","text":"<ul> <li>N24 lap data for gap calculation</li> </ul>"},{"location":"about/changelog/#140-2024-01-25","title":"1.4.0 - 2024-01-25","text":""},{"location":"about/changelog/#fixed_1","title":"Fixed","text":"<ul> <li>Relative leaderboards showing wrong car for one update after a position change.</li> </ul>"},{"location":"about/changelog/#added_1","title":"Added","text":"<ul> <li>New Cup, RelativeCup, PartialRelativeCup leaderboard types (#24, #25).    These are effectively Class, RelativeClass and PartialRelativeClass except they   also filter by the focused car's cup category (Pro/Overall, Pro-Am, Am, National).</li> <li>Few new properties related to new leaderboard types:</li> <li><code>Laps.Best.Delta.ToCupBest</code></li> <li><code>Laps.Best.Delta.ToCupLeaderBest</code></li> <li><code>Laps.Best.Delta.ToAheadInCupBest</code></li> <li><code>Laps.Last.Delta.ToCupBest</code></li> <li><code>Laps.Last.Delta.ToCupLeaderBest</code></li> <li><code>Laps.Last.Delta.ToAheadInCupBest</code></li> <li><code>Laps.Last.Delta.ToCupLeaderLast</code></li> <li><code>Laps.Last.Delta.ToAheadInCupLast</code></li> <li><code>Gap.ToCupLeader</code></li> <li><code>Gap.ToAhead.Cup</code></li> <li><code>Position.Cup</code></li> <li><code>Position.Cup.Start</code></li> <li><code>IsCupBestLapCar</code></li> <li>Dynamic properties have been updated to include cup specific properties.</li> <li>Support GT2 class and 6 new cars in it.</li> <li>An option to include Lamborghini Huracan ST EVO2 and Ferrari 488 Challenge Evo in GT2 class.   The option is under the General settings tab.</li> </ul>"},{"location":"about/changelog/#133-2023-10-24","title":"1.3.3 - 2023-10-24","text":""},{"location":"about/changelog/#fixed_2","title":"Fixed","text":"<ul> <li><code>Laps.Best.Sx</code> was showing last lap sectors not the best lap sectors (#23)</li> <li><code>Position.x.Start</code> not updating after race restart (#23)</li> </ul>"},{"location":"about/changelog/#132-2023-05-26","title":"1.3.2 - 2023-05-26","text":""},{"location":"about/changelog/#added_2","title":"Added","text":"<ul> <li>Support McLaren 720S GT3 Evo which was added in ACC v1.9.3.</li> </ul> <p>This also means that ACC v1.9.3 needs atleast the v1.3.2 version of this plugin to fully function properly.</p>"},{"location":"about/changelog/#131-2023-05-15","title":"1.3.1 - 2023-05-15","text":""},{"location":"about/changelog/#added_3","title":"Added","text":"<ul> <li>An option to disable given dynamic leaderboard from being calculated.</li> </ul>"},{"location":"about/changelog/#fixed_3","title":"Fixed","text":"<ul> <li>Typo which caused broadcasting.json not to be read properly.</li> </ul>"},{"location":"about/changelog/#improvements","title":"Improvements","text":"<ul> <li>Cache more properties instead of calculating them from scratch on each update.</li> <li>Remove bunch of unnecessary logging.</li> <li>Overhaul broadcasting network protocol for cleaner code and potentially slighly better performance.</li> <li>Upgrade to C# 9.0 to make use of some nice new syntax and clean up code.</li> <li>Enable strict null checking and fix potential issues identified by it.</li> <li>Apply code suggestions.</li> </ul>"},{"location":"about/changelog/#130-2023-04-20","title":"1.3.0 - 2023-04-20","text":""},{"location":"about/changelog/#added_4","title":"Added","text":"<ul> <li>Support for new cars and track from 2023 GT World Challenge Pack (#19).</li> <li>Lap data for gap calculation for Valencia. Thank you Mtrade for running the laps and generating the needed data (#16).</li> </ul>"},{"location":"about/changelog/#fixed_4","title":"Fixed","text":"<ul> <li>An error if the plugin is first launched while ACC is not the selected game (#15).</li> <li>A <code>NullReferenceException</code> if broadcasting server sends a <code>RealtimeUpdate</code> before entry list.</li> <li>If a new car is added to ACC but not yet to our enums, it's class is Unknown, which causes    a <code>IndexOutofBoundsException</code> in <code>CarClassArray</code> if we try to access class positions or lap data.   Should avoid #19 in the future until we get an update out.</li> <li>Use a naive distance and speed based gap calculation in case precise lap data is not available.   (Should only happen if ACC get's a new track and we haven't pushed an update yet.) (#20).</li> <li>An exception if an BroadcastingEvent is sent before anything else. Can happen if one joins midrace and someone just had a crash or finished a lap.</li> <li>An exception in gap calcualtion if some cars do not have received their <code>RealtimeCarUpdate</code>.    Can happen on the first <code>RealtimeUpdate</code> where none of the car have received their <code>RealtimeCarUpdate</code> or if someone joins midrace.</li> </ul>"},{"location":"about/changelog/#123-2023-03-28","title":"1.2.3 - 2023-03-28","text":""},{"location":"about/changelog/#dash-changes","title":"Dash changes","text":"<ul> <li>Moved leaderboard into an widget to fix a repetition bug after changing SimHub dashboard with <code>GraphicalDashPlugin.Cycle(Next/Previous)Dash</code>.   See SHWotever/SimHub#1262 for more details on the issue.</li> </ul>"},{"location":"about/changelog/#122-2023-01-05","title":"1.2.2 - 2023-01-05","text":""},{"location":"about/changelog/#added_5","title":"Added","text":"<ul> <li>New leaderboard type <code>RelativeOnTrackWoPit</code> which is the same as <code>RelativeOnTrack</code> but  excludes all the cars in the pitlane which are not on the same lap as the focused car. (#10, #12)</li> </ul>"},{"location":"about/changelog/#fixed_5","title":"Fixed","text":"<ul> <li>Jump to pits after forgetting to press \"DRIVE\" disabled total gap and <code>RelativeOnTrackLapDiff</code> calculations until the car finished it's the first lap on some tracks. </li> </ul>"},{"location":"about/changelog/#dash-changes_1","title":"Dash changes","text":"<ul> <li>Enabled new <code>RelativeOnTrackWoPit</code> leaderboard by default. </li> </ul>"},{"location":"about/changelog/#121-2022-12-27","title":"1.2.1 - 2022-12-27","text":""},{"location":"about/changelog/#added_6","title":"Added","text":"<ul> <li>6 new properties for every car: (#9)<ul> <li><code>Laps.Current.IsValid</code></li> <li><code>Laps.Current.IsOutLap</code></li> <li><code>Laps.Current.IsInLap</code></li> <li><code>Laps.Last.IsValid</code></li> <li><code>Laps.Last.IsOutLap</code></li> <li><code>Laps.Last.IsInLap</code></li> </ul> </li> </ul>"},{"location":"about/changelog/#120-2022-07-01","title":"1.2.0 - 2022-07-01","text":""},{"location":"about/changelog/#added_7","title":"Added","text":"<ul> <li>Automatic migration between setting versions.</li> <li>American DLC tracks and necessary data for gap calculation.</li> <li>Properties <code>Position.Dynamic</code> and <code>Position.Dynamic.Start</code> that show overall positions in overall leaderboards and class position in class position.</li> </ul>"},{"location":"about/changelog/#improvements_1","title":"Improvements","text":"<ul> <li>Leaderboard configurations are now saved separately to allow simpler configuration (#7).</li> </ul>"},{"location":"about/changelog/#fixed_6","title":"Fixed","text":"<ul> <li>Disallowed non letter or digit characters from leaderboard names to fix possible issues where weird characters would essentially become variables inside SimHub.</li> <li>PartialRelativeClass showed N-1 position ahead instead of N position as set in settings (#6).</li> </ul>"},{"location":"about/changelog/#dash-changes_2","title":"Dash changes","text":"<ul> <li>Add dash for SimHub v7.x and v8.x versions.</li> <li>Dash uses new dynamic position properties. </li> </ul>"},{"location":"about/changelog/#111-2022-05-03","title":"1.1.1 - 2022-05-03","text":""},{"location":"about/changelog/#improvements_2","title":"Improvements","text":"<ul> <li>Don't need to restart SimHub if you only change leaderboard rotation.</li> </ul>"},{"location":"about/changelog/#fixed_7","title":"Fixed","text":"<ul> <li>Leaderboard rotation was not saved and thus on SimHub start the rotation was always default.</li> <li>Team cup category text color reset button set the color to background color.</li> <li>Number of partial relative class leaderboard relative positions actually changed number of partial relative overall leaderboard relative positions.</li> <li>Plugin and SimHub crashed if you added new leaderboard to the rotation and selected it without restarting SimHub. With this fix you actually don't have to restart SimHub if you change leaderboard rotation.</li> </ul>"},{"location":"about/changelog/#110-2022-04-30","title":"1.1.0 - 2022-04-30","text":""},{"location":"about/changelog/#added_8","title":"Added","text":"<ul> <li><code>RelativeOnTrackLapDiff</code> property to each car. It shows if the car is lap ahead or behind or on the same lap relative to the focused car on track. -1: lap behind, 0 same lap, 1 lap ahead.</li> </ul>"},{"location":"about/changelog/#changed","title":"Changed","text":"<ul> <li>Gaps are now set to <code>null</code> (instead of showing previous gap) if one of the cars is finished and they are on the same lap. If they are not on the same lap, lap difference is shown. Gap is finalized once both cars have crossed the finish line.</li> <li>Non relative gaps are now <code>null</code> before the car has crossed the line for the first time at the race start.</li> <li>Gap to itself is now <code>null</code> instead of <code>0</code>.</li> </ul>"},{"location":"about/changelog/#improvements_3","title":"Improvements","text":"<ul> <li>Use broadcasting events + shared memory data to detect if car has finished. Should be more robust.</li> <li>Use spline position offset to sync update of number of completed laps and reset of spline position instead of separately calculating laps by spline position. </li> <li>Try to detect missing/late broadcast events and try to fix the order if it happens at finish.</li> </ul>"},{"location":"about/changelog/#removed","title":"Removed","text":"<ul> <li>Hide everything from other assemblies for now. Normally this would definitely be a breaking change but as they were never really accessible from the plugin and inside SimHub everything is still exactly as before, I'll consider it not breaking. It is planned to expose parts of this plugin to be directly used from other plugins in future versions.</li> </ul>"},{"location":"about/changelog/#fixed_8","title":"Fixed","text":"<ul> <li>Possible name conflicts between dynamic leaderboards.</li> <li><code>Position.Overall</code> property showed wrong positions after the race finish.</li> <li>Orders<ul> <li>Occasional jumping of positions at lap finish.</li> <li>Wrong order after the finish if cars lap count differed by one and some car's hadn't finished yet.</li> <li>Wrong order if joined race session in the middle of session or opened SimHub in the middle of race session.</li> <li>(Partial)RelativeClass positions were not calculated if the wanted position was outside the number of class positions shown. That is say you wanted to show 20 class positions, then cars lower than 20th in class were not shown in (Partial)RelativeClass leaderboards.</li> <li>Car was showed falesly in the first position if it jumped to the pits, which would be correct if it could leave the pits immediately but as it cannot, more approptiate is to show it as last on it's lap.</li> </ul> </li> <li>Gaps<ul> <li>Occasional gap jumping at lap finish.</li> <li>Wrong sign of relative gaps in race sessions if the focused car was class/overall leader.</li> <li>Gap to cars ahead in race sessions was calculated with 'this' car's position at previous update.</li> <li>Wrong class gaps after race finish if some cars were lapped and some were not.</li> <li>Gaps not updating if focused car was changed after finish.</li> </ul> </li> <li>Maybe fixed longer data update intervals causing missed/false finishes and missed laps when crossing the line close to the clock reaching zero or just after. I think they are still technically possible but I haven't managed to see one, so it's definitely better than before.</li> </ul>"},{"location":"about/changelog/#100-2022-04-19","title":"1.0.0 - 2022-04-19","text":"<ul> <li>Initial public release</li> </ul>"},{"location":"reference/leaderboards/","title":"Available leaderboards","text":"<p>There are several different leaderboard types to use within dynamic leaderboards.</p>"},{"location":"reference/leaderboards/#overall-leaderboards","title":"Overall leaderboards","text":"<p><code>N</code> top positions. There are two types:</p> <ul> <li><code>Overall</code> - in overall order</li> <li><code>Class</code> - in the order of focused car's class</li> <li><code>Cup</code> - in the order of focused car's class and cup (Overall, Pro-Am etc)</li> </ul>"},{"location":"reference/leaderboards/#relative-leaderboards","title":"Relative leaderboards","text":"<p><code>2N + 1</code> relative positions to the focused car. There are three types:</p> <ul> <li><code>RelativeOverall</code> - in overall order</li> <li><code>RelativeClass</code> - in the order of focused car's class</li> <li><code>RelativeCup</code> - in the order of focused car's class and cup</li> <li><code>RelativeOnTrack</code> - in the relative track order</li> <li><code>RelativeOnTrackWoPit</code> - in the relative track order but excludes all the cars in the pitlane that are not on    the same lap as the focused car</li> </ul>"},{"location":"reference/leaderboards/#partial-relative-leaderboards","title":"Partial relative leaderboards","text":"<p><code>N</code> top positions and <code>2M + 1</code> relative positions. If the focused car is inside the first <code>N + M + 1</code> positions the order will be just as the overall leaderboard. There are two types:</p> <ul> <li><code>PartialRelativeOverall</code> - in overall order</li> <li><code>PartialRelativeClass</code> - in the order of focused car's class</li> <li><code>PartialRelativeCup</code> - in the order of focused car's class and cup</li> </ul> <p>Again see the AccDynLeaderboard dash to see exactly what each dash looks like.</p>"},{"location":"reference/properties/","title":"Available properties","text":""},{"location":"reference/properties/#general","title":"General","text":"<p>These properties are available as <code>DynLeaderboardsPlugin.&lt;property name&gt;</code>,  for example <code>DynLeaderboardsPlugin.Color.Class.GT3</code>.</p> <code>SessionPhase</code> Session phase. <code>MaxStintTime</code> Maximum driver stint time. <code>MaxDriveTime</code> Maximum total driving time for driver for player car. This can be different for other teams if they have different    number of drivers. <code>Color.Class.&lt;class&gt;</code> Color for car class.  &lt;class&gt; can be <code>GT3</code>, <code>GT4</code>, <code>CUP17</code>, <code>CUP21</code>, <code>ST15</code>, <code>ST21</code>, <code>CHL</code>, <code>TCX</code>. <code>Color.Cup.&lt;cup category&gt;</code> Main color for team cup category. &lt;cup category&gt; can be <code>Overall</code>, <code>Silver</code>, <code>ProAm</code>, <code>Am</code>, <code>National</code>. <code>Color.Cup.&lt;cup category&gt;.Text</code> Secondary color for team cup category. &lt;cup category&gt; can be <code>Overall</code>, <code>Silver</code>, <code>ProAm</code>, <code>Am</code>, <code>National</code>. <code>Color.DriverCategory.&lt;category&gt;</code> Color for driver category. &lt;categort&gt; can be <code>Platinum</code>, <code>Gold</code>, <code>Silver</code>, <code>Bronze</code>."},{"location":"reference/properties/#for-each-dynamic-leaderboard","title":"For each dynamic leaderboard","text":"<p>These properties are available as <code>DynLeaderboardsPlugin.&lt;leaderboard name&gt;.&lt;property name&gt;</code>,  for example <code>DynLeaderboardsPlugin.Dynamic.CurrentLeaderboard</code>.</p> <code>CurrentLeaderboard</code> Name of the currently selected leaderboard. Is one of (<code>Overall</code>, <code>Class</code>, <code>RelativeOverall</code>, <code>RelativeClass</code>,   <code>PartialRelativeOverall</code>, <code>PartialRelativeClass</code>, <code>RelativeOnTrack</code>).   See Leaderboards for more info about what each type means. <code>FocusedPosInCurrentLeaderboard</code> Integer that shows the position of focused car in currently selected leaderboard. Note that it is 0 based like an    index to array positions."},{"location":"reference/properties/#for-each-car","title":"For each car","text":"<p>These properties are available as <code>DynLeaderboardsPlugin.&lt;leaderboard name&gt;.&lt;position&gt;.&lt;property name&gt;</code>,  for example <code>DynLeaderboardsPlugin.Dynamic.5.Car.Number</code>.</p>"},{"location":"reference/properties/#car-info","title":"Car info","text":"<code>Car.Number</code> Car number. <code>Car.Model</code> Car model name. <code>Car.Manufacturer</code> Car manufacturer. <code>Car.Class</code> Car class. Is one of (<code>GT3</code>, <code>GT4</code>, <code>CUP17</code>, <code>CUP21</code>, <code>ST15</code>, <code>ST21</code>, <code>CHL</code>, <code>TCX</code>). <code>Car.Class.Color</code> Car class color."},{"location":"reference/properties/#team-info","title":"Team info","text":"<code>Team.Name</code> Team name. <code>Team.CupCategory</code> Team cup category. Is one of (<code>Overall</code>, <code>Silver</code>, <code>ProAm</code>, <code>Am</code>, <code>National</code>). <code>Team.CupCategory.Color</code> Team cup category main color. My intention was to use as background color. <code>Team.CupCategory.TextColor</code> Team cup category secondary color. My intention was to use as text color."},{"location":"reference/properties/#lap-info","title":"Lap info","text":"<code>Laps.Count</code> Number of completed laps. <code>Laps.Last.Time</code> Last lap time. <code>Laps.Last.&lt;sector&gt;</code> Last lap sector time. &lt;sector&gt; can be <code>S1</code>, <code>S2</code>, <code>S3</code>. <code>Laps.Last.IsValid</code> Was last lap valid? <code>Laps.Last.IsOutLap</code> Was last lap an out lap? <code>Laps.Last.IsInLap</code> Was last lap an in lap? <code>Laps.Best.Time</code> Best lap time. <code>Laps.Best.&lt;sector&gt;</code> Best lap sector time. &lt;sector&gt; can be <code>S1</code>, <code>S2</code>, <code>S3</code> <code>Laps.Current.Time</code> Current lap time. <code>Laps.Current.IsValid</code> Is current lap valid? <code>Laps.Current.IsOutLap</code> Is current lap an out lap? <code>Laps.Current.IsInLap</code> Is current lap an in lap? <code>Best&lt;sector&gt;</code> Best sector time. &lt;sector&gt; can be <code>S1</code>, <code>S2</code>, <code>S3</code> <p>Deltas</p> <p>Best to best</p> <code>Laps.Best.Delta.ToOverallBest</code> Best lap delta to overall best lap. <code>Laps.Best.Delta.ToClassBest</code> Best lap delta to class best lap. <code>Laps.Best.Delta.ToCupBest</code> Best lap delta to cup best lap. <code>Laps.Best.Delta.ToLeaderBest</code> Best lap delta to leader's best lap. <code>Laps.Best.Delta.ToClassLeaderBest</code> Best lap delta to class leader's best lap. <code>Laps.Best.Delta.ToCupLeaderBest</code> Best lap delta to cup leader's best lap. <code>Laps.Best.Delta.ToFocusedBest</code> Best lap delta to focused car's best lap. <code>Laps.Best.Delta.ToAheadBest</code> Best lap delta to ahead car's best lap. <code>Laps.Best.Delta.ToAheadInClassBest</code> Best lap delta to class ahead car's best lap. <code>Laps.Best.Delta.ToAheadInCupBest</code> Best lap delta to cup ahead car's best lap. <p>Last to best </p> <code>Laps.Last.Delta.ToOverallBest</code> Last lap delta to overall best lap. <code>Laps.Last.Delta.ToClassBest</code> Last lap delta to class best lap. <code>Laps.Last.Delta.ToCupBest</code> Last lap delta to cup best lap. <code>Laps.Last.Delta.ToLeaderBest</code> Last lap delta to leader's best lap. <code>Laps.Last.Delta.ToClassLeaderBest</code> Last lap delta to class leader's best lap. <code>Laps.Last.Delta.ToCupLeaderBest</code> Last lap delta to cup leader's best lap. <code>Laps.Last.Delta.ToFocusedBest</code> Last lap delta to focused car's best lap. <code>Laps.Last.Delta.ToAheadBest</code> Last lap delta to ahead car's best lap. <code>Laps.Last.Delta.ToAheadInClassBest</code> Last lap delta to class ahead car's best lap. <code>Laps.Last.Delta.ToAheadInCupBest</code> Last lap delta to cup ahead car's best lap. <code>Laps.Last.Delta.ToOwnBest</code> Last lap delta to own best lap. <p>Last to last </p> <code>Laps.Last.Delta.ToLeaderLast</code> Last lap delta to leader's last lap. <code>Laps.Last.Delta.ToClassLeaderLast</code> Last lap delta to class leader's last lap. <code>Laps.Last.Delta.ToCupLeaderLast</code> Last lap delta to cup leader's last lap. <code>Laps.Last.Delta.ToFocusedLast</code> Last lap delta to focused car's last lap. <code>Laps.Last.Delta.ToAheadLast</code> Last lap delta to ahead car's last lap. <code>Laps.Last.Delta.ToAheadInClassLast</code> Last lap delta to class ahead car's last lap. <code>Laps.Last.Delta.ToAheadInCupLast</code> Last lap delta to cup ahead car's last lap. <p>Dynamic </p> <code>Laps.Best.Delta.Dynamic.ToFocusedBest</code> <p>Best lap delta to the car's best based on currently displayed leaderboard.</p> <ul> <li><code>Overall</code> -&gt; Best lap delta to leader's best lap.</li> <li><code>Class</code> -&gt; Best lap delta to class leader's best lap.</li> <li><code>Cup</code> -&gt; Best lap delta to cup leader's best lap.</li> <li>for any relative leaderboard it's delta to focused car's best lap.</li> </ul> <code>Laps.Last.Delta.Dynamic.ToFocusedBest</code> Same as above but last lap delta to other car's best lap. <code>Laps.Last.Delta.Dynamic.ToFocusedLast</code> Same as above but last lap delta to other car's last lap."},{"location":"reference/properties/#gaps","title":"Gaps","text":"<code>Gap.ToOverallLeader</code> Total gap to the leader.                                                      <code>Gap.ToClassLeader</code> Total gap to the class leader.                                                <code>Gap.ToCupLeader</code> Total gap to the cup leader.                                                  <code>Gap.ToFocused.Total</code> Total gap to the focused car.                                                 <code>Gap.ToFocused.OnTrack</code> Relative on track gap to the focused car.                                     <code>Gap.ToAhead.Overall</code> Total gap to the car ahead in overall order.                                  <code>Gap.ToAhead.Class</code> Total gap to the car ahead in class.                                          <code>Gap.ToAhead.Cup</code> Total gap to the car ahead in cup.                                            <code>Gap.ToAhead.OnTrack</code> Relative gap to the car ahead on track.                                       <code>Gap.Dynamic.ToFocused</code> <p>Gap that changes based on the currently selected dynamic leaderboard.</p> <ul> <li><code>Overall</code> -&gt; Total gap to the leader.</li> <li><code>Class</code> -&gt; Total gap to the class leader.</li> <li><code>Cup</code> -&gt; Total gap to the cup leader.</li> <li><code>(Partial)RelativeOverall</code>, <code>(Partial)RelativeClass</code>, <code>(Partial)RelativeCup</code> -&gt; Total gap to the focused car.</li> <li><code>RelativeOnTrack</code> -&gt; Relative on track gap to the focused car.</li> </ul> <code>Gap.Dynamic.ToAhead</code> <p>Gap to the car ahead that changes based on the currently selected dynamic leaderboard.</p> <ul> <li><code>(Partial)(Relative)Overall</code> -&gt; Total gap to the car ahead in overall order.</li> <li><code>(Partial)(Relative)Class</code> -&gt; Total gap to the car ahead in class.</li> <li><code>(Partial)(Relative)Cup</code> -&gt; Total gap to the car ahead in cup.</li> <li><code>RelativeOnTrack</code> -&gt; Relative gap to the car ahead on track.</li> </ul>"},{"location":"reference/properties/#positions","title":"Positions","text":"<code>Position.Overall</code> Current overall position. <code>Position.Overall.Start</code> Overall position at the race start. <code>Position.Class</code> Current class position. <code>Position.Class.Start</code> Class position at the race start. <code>Position.Cup</code> Current cup position. <code>Position.Cup.Start</code> Cup position at the race start."},{"location":"reference/properties/#stint-info","title":"Stint info","text":"<code>Stint.Current.Time</code> Current stint time. <code>Stint.Current.Laps</code> Number of laps completed in current stint. <code>Stint.Last.Time</code> Last stint time. <code>Stint.Last.Laps</code> Number of laps completed in last stint."},{"location":"reference/properties/#pit-info","title":"Pit info","text":"<code>Pit.IsIn</code> Is the car in pit lane? <code>Pit.Count</code> Number of pitstops. <code>Pit.Time.Total</code> Total time spent in pits. <code>Pit.Time.Last</code> Last pit time. <code>Pit.Time.Current</code> Current time in pits. <p>Note that pit time counts time from the start of pitlane to the end, not just the stationary time in pit box.</p>"},{"location":"reference/properties/#misc","title":"Misc","text":"<code>IsFinished</code> Is the car finished? <code>MaxSpeed</code> Maximum speed in this session. <code>IsFocused</code> Is this the focusd car? <code>IsOverallBestLapCar</code> Is this the car that has overall best lap? <code>IsClassBestLapCar</code> Is this the car that has class best lap? <code>IsCupBestLapCar</code> Is this the car that has cup best lap? <code>RelativeOnTrackLapDiff</code> <p>Show if this car is ahead or behind by one lap (or more) of the focused car in relative on track leaderboard.</p> <ul> <li><code>1</code> -&gt; ahead</li> <li><code>0</code> -&gt; same lap</li> <li><code>-1</code> -&gt; behind</li> </ul>"},{"location":"reference/properties/#for-each-driver","title":"For each driver","text":"<p><code>DynLeaderboardsPlugin.&lt;leaderboard name&gt;.&lt;position&gt;.Driver.&lt;driver number&gt;.&lt;property name&gt;</code>,  for example <code>DynLeaderboardsPlugin.Dynamic.5.Driver.1.FirstName</code>.</p> <code>FirstName</code> First name (Abcde) <code>LastName</code> Last name (Fghij) <code>ShortName</code> Short name (AFG) <code>FullName</code> Full name (Abcde Fghij) <code>InitialPlusLastName</code> Initial + last name (A. Fghij) <code>Nationality</code> Nationality <code>Category</code> Driver category. Is one of (<code>Platinum</code>, <code>Gold</code>, <code>Silver</code>, <code>Bronze</code>) <code>TotalLaps</code> Total number of completed laps. <code>TotalDrivingTime</code> Total driving time. <code>BestLapTime</code> Best lap time. <code>CategoryColor</code> Color for driver category."},{"location":"user_guide/config/","title":"Configuration","text":"<ul> <li> <p>By default the plugin is configured to run provided AccDynLeaderboard dash but you can add and configure more    leaderboards under \"Dynamic leaderboards\" tab.    Further explanation of each option is explained directly in the setting pages and by the tooltips of settings.    All available properties are also listed on properties page.</p> </li> <li> <p>If you add multiple dynamic leaderboards, you need to add mappings for each leaderboard.    It can be the same button for all of them. </p> </li> <li> <p>Settings under \"General settings\" are common to all leaderboards.</p> </li> <li> <p>IMPORTANT: For the settings changes to take effect you need to restart SimHub.</p> </li> </ul> <p>If something is unclear or you have suggestions, let me know.</p>"},{"location":"user_guide/creating_dyn_leaderboard/","title":"Creating custom leaderboard","text":""},{"location":"user_guide/creating_dyn_leaderboard/#creating-one","title":"Creating one","text":"<p>First head over to the \"Dynamic leaderboards\" tab in the settings and add a new dynamic leaderboard or edit the one  already present.  You can change the name by opening the dropdown menu and writing inside the corresponding box.  Then all properties will be available as <code>DynLeaderboardsPlugin.&lt;chosen name&gt;.&lt;pos&gt;.&lt;property name&gt;</code>.  For example you named your dynamic leaderboard as \"MyDynLeaderboard\" then you can do  <code>DynLeaderboardsPlugin.MyDynLeaderboard.5.Car.Number</code> to get the fifth car's number in whatever leaderboard type is currently.  If it's overall order you get the fifth car overall, if it's on track relative leaderboard you get the car that is in  fifth position in that order.</p> <p>Next you need to set the leaderboards rotation and which ones you even want to see in your rotation.  Check the toggle buttons and move leaderboards up and down.  If there are unchecked leaderboards are simply ignored, doesn't matter in which location they are.</p> <p>Next section provides an option to set number of positions exported as properties.  The actual number of car's exported is the maximum positions needed for any leaderboard.  For relative leaderboards you set the number of cars shown ahead and behind the focused car.  Drivers are ordered such that the current driver is always the first one and if you set number of drivers to 1,  we only export current driver.  Note that you can set any of the properties to 0 to not export them.</p> <p>Then scroll through the properties and select all of the ones you want.  For dynamic leaderboard I recommend to use <code>...Gaps.Dynamic...</code> and <code>...Delta.Dynamic...</code> properties which change  according to the currently selected leaderboard. This way you don't need to switch between the gaps and lap deltas yourself.</p> <p>Final configuration step is to go to the \"Controls and events\" from SimHub sidebar and add mappings  for <code>DynLeaderboardsPlugin.&lt;name&gt;.NextLeaderboard</code> and <code>DynLeaderboardsPlugin.&lt;name&gt;.PreviousLeaderboard</code> actions.  As stated above for mapping to controller inputs you need to enable \"Controllers input\" plugin and to keyboard inputs  \"Keyboard Input\" plugin.</p> <p>Now restart SimHub and start create your dashboard.  You can use the AccDynLeaderboard as an example or modify it directly.</p>"},{"location":"user_guide/creating_dyn_leaderboard/#publishing-your-dashboard","title":"Publishing your dashboard","text":"<p>So you have created your dynamic leaderboard and a custom dashboard that uses it and want to upload it.  Since version 1.2.0 the leaderboard  configurations are saved in separate files so you could package them with your download and simplify the configuration  needed by the end user. </p> <p>How to include?</p> <ul> <li>Go to \"..\\SimHub\\PluginsData\\KLPlugins\\DynLeaderboards\\leaderboardConfigs\".</li> <li>Pack the file with your dynamic leaderboard's name with your download.</li> <li>The end user must copy the file back to that location and the configuration will be automatically loaded.    (I suggest to include the proper folder structure inside the download).</li> </ul> <p>Now the only configuration needed is to assign the buttons to change leaderboard types.</p>"},{"location":"user_guide/creating_dyn_leaderboard/#things-to-know","title":"Things to know","text":"<ul> <li>Default value if property is not available is null. This happens if session is not started yet, there are fewer   cars/drivers in session than positions available for leaderboard or no lap time is available.</li> <li>First driver is always current driver.</li> <li>All times and gaps are given in seconds.</li> <li>In relative leaderboards positive gap means the car is ahead of the car that we are comparing to, negative gap means behind.   In overall leaderboards the gap is always positive as we are comparing to the overall/class leader and no one can be ahead of them.</li> <li>If the gap is larger than 1 lap, only the lap part of the gap is shown. To differentiate between gap in seconds and    full laps we add 100 000 to the gap if it's larger than 1 lap. In dash you can show the gap then as follows     <pre><code>var v = $prop('DynLeaderboardsPlugin.Dynamic.' + repeatindex() + '.Gap.Dynamic.ToFocused')\nif (v == null) { return '' }\n// No gap can realistically be 50000 seconds without being more than a lap\n// and you cannot realistically be more than 50000 laps behind to break following\nif (v &gt; 50000) { return format(v - 100000, '0', true) + 'L' }\nreturn format(v, '0.0', true)\n</code></pre></li> <li>There are dynamic gaps and deltas to laps that change based on the currently selected leaderboard to show meaningful    gaps for the current leaderboard.    For example in overall leaderboard we show gaps to the overall leader, in class leaderboards to the class leader and so on.</li> </ul>"},{"location":"user_guide/creating_dyn_leaderboard/#patterns","title":"Patterns","text":""},{"location":"user_guide/creating_dyn_leaderboard/#access-properties","title":"Access properties","text":"JavascriptNCalc <pre><code>return $prop('DynLeaderboardsPlugin.Dynamic.' + repeatindex() + '.Laps.Last.Time')\n</code></pre> <pre><code>prop('DynLeaderboardsPlugin.Dynamic.' + repeatindex() + '.Laps.Last.Time')\n</code></pre>"},{"location":"user_guide/creating_dyn_leaderboard/#gap-formatting","title":"Gap formatting","text":"<pre><code>var v = $prop('DynLeaderboardsPlugin.Dynamic.' + repeatindex() + '.Gap.Dynamic.ToFocused')\nif (v == null) { return '' }\n// No gap can realistically be 50000 seconds without being more than a lap\n// and you cannot realistically be more than 50000 laps behind to break following\nif (v &gt; 50000) { return format(v - 100000, '0', true) + 'L' }\nreturn format(v, '0.00', true)\n</code></pre>"},{"location":"user_guide/creating_dyn_leaderboard/#gap-to-behind","title":"Gap to behind","text":"<p>The plugin provides a property for a gap to car ahead but not to the car behind. The latter is found by shifting the index by one.</p> <pre><code>var gap_to_ahead = $prop('DynLeaderboardsPlugin.Dynamic.' + repeatindex() + '.Gap.Dynamic.ToAhead')\nvar gap_to_behind = $prop('DynLeaderboardsPlugin.Dynamic.' + (repeatindex() + 1) + '.Gap.Dynamic.ToAhead')\n// gap formatting\n</code></pre>"},{"location":"user_guide/creating_dyn_leaderboard/#properties-of-the-cars-right-aheadbehind-of-the-player","title":"Properties of the cars right ahead/behind of the player","text":"<p>Also see #21 for more discussion.</p> <p>Gap</p> <p><pre><code>var idx = $prop('DynLeaderboardsPlugin.Dynamic.FocusedPosInCurrentLeaderboard') + 1\nvar ahead = $prop('DynLeaderboardsPlugin.Dynamic.' + idx + '.Gap.Dynamic.ToAhead')\n// gap formatting\n</code></pre> <pre><code>var idx = $prop('DynLeaderboardsPlugin.Dynamic.FocusedPosInCurrentLeaderboard') + 2\nvar behind = $prop('DynLeaderboardsPlugin.Dynamic.' + idx + '.Gap.Dynamic.ToAhead')\n// gap formatting\n</code></pre></p> <p>Other</p> <p><pre><code>var idx = $prop('DynLeaderboardsPlugin.Dynamic.FocusedPosInCurrentLeaderboard')\nvar ahead = $prop('DynLeaderboardsPlugin.Dynamic.' + idx + '.Laps.Last.Time')\n// gap formatting\n</code></pre> <pre><code>var idx = $prop('DynLeaderboardsPlugin.Dynamic.FocusedPosInCurrentLeaderboard') + 2\nvar behind = $prop('DynLeaderboardsPlugin.Dynamic.' + idx + '.Laps.Last.Time')\n// gap formatting\n</code></pre></p>"},{"location":"user_guide/creating_dyn_leaderboard/#color-cars-on-different-laps-differently-on-relativeontrack-leaderboards","title":"Color cars on different laps differently on RelativeOnTrack leaderboards","text":"<pre><code>var current_lb = $prop('DynLeaderboardsPlugin.Dynamic.CurrentLeaderboard')\nvar isRelative = current_lb == 'RelativeOnTrack' || current_lb == 'RelativeOnTrackWoPit'\n\nif (isRelative) {\n    var lapdiff = $prop('DynLeaderboardsPlugin.Dynamic.' + repeatindex() + '.RelativeOnTrackLapDiff')\n    if (lapdiff == 1) {\n        // Ahead\n        return \"#FF8C00\"\n    } else if (lapdiff == -1) {\n        // Behind\n        return \"#00BFFF\"\n    }\n}\n// Same lap\nreturn \"#FFFFFF\"\n</code></pre>"},{"location":"user_guide/getting_started/","title":"Getting started","text":"<ul> <li>Download the latest release from OverTake or GitHub.</li> <li>To install provided dashboard run \"AccDynLeaderboard_v8.simhubdash\".</li> <li>Copy all the files from folder \"SimHub\" to the SimHub root.</li> <li>Open SimHub and enable the plugin.</li> <li>Check plugin settings for correct \"ACC configuration location\" under \"General settings\".   If it's background is green, then we found needed files, if it's red there's something wrong with the location.    We need to find the file \"...\\Documents\\Assetto Corsa Competizione\\Config\\broadcasting.json\".    It is used to read information needed to connct to ACC broadcasting client.</li> <li>If you needed to change the location, restart SimHub.</li> <li> <p>Go to \"Controls and events\" from SimHub sidebar and add mappings for    <code>DynLeaderboardsPlugin.Dynamic.NextLeaderboard</code> and <code>DynLeaderboardsPlugin.Dynamic.PreviousLeaderboard</code> actions. </p> <p>For mapping to controller inputs you need to enable \"Controllers input\" plugin and to keyboard inputs \"Keyboard Input\" plugin.</p> </li> <li> <p>Now the AccDynLeaderboard dash should work.</p> </li> </ul>"},{"location":"user_guide/troubleshooting/","title":"Troubleshooting","text":""},{"location":"user_guide/troubleshooting/#compatibility","title":"Compatibility","text":"Plugin version SimHub versions ACC versions 1.4.0 .. 8.3.0 .. 1.x.x .. 1.3.2 .. 1.3.3 8.3.0 .. 1.x.x .. 1.9.5 1.3.0 .. 1.3.1 8.3.0 .. 1.x.x .. 1.9.2 .. 1.2.3 .. 8.2.3 1.x.x .. 1.8.21"},{"location":"user_guide/troubleshooting/#known-issues","title":"Known issues","text":"<ul> <li>No data available<ul> <li>Check the property <code>DynLeaderboardsPlugin.IsBroadcastClientConnected</code></li> <li>If it's <code>False</code> then the plugin couldn't connect to ACC and you need to leave and rejoin the session.    This can sometimes happen if you close SimHub and reopen it without leaving the session. </li> <li>If it's <code>True</code> then the plugin hasn't received the first update yet.    If the data doesn't appear after a while see the section below.</li> </ul> </li> </ul>"},{"location":"user_guide/troubleshooting/#other","title":"Other","text":"<p>In case you find other issues, feel free to report them.  If at all possible I'd prefer issues to be reported on GitHub, just to keep them clean and all in one place.  If that's not possible the discussion thread on OverTake forums is fine as well.</p> <p>When reporting issues, please include as much information as possible.  This will help to solve any issues much faster.  This information includes:</p> <ul> <li>What session you were running (SP or MP, practice/race etc).</li> <li>SimHub log files from \"../SimHub/Logs\" (usually it's best to zip all of them together)<ul> <li>Basic logging information should show most direct errors    however more information is logged by turning on <code>Log</code> option in the plugin settings menu.    If possible you could turn that on and try to reproduce the issue with it.</li> </ul> </li> <li>A screenshot displaying the issue.</li> <li>The dashboard where issue appeared (if it's not provided by this plugin).</li> </ul>"}]}